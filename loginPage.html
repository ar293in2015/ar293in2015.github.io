<!DOCTYPE html>
<html lang="en" ng-app = "app">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
  <title>Wee Expectations</title>
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="js/materialize.js"></script>

  <!-- CSS  -->
  
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Questrial" />

  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  <script type="text/javascript" src='http://code.jquery.com/jquery-1.10.2.min.js'></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.16/d3.min.js" type="text/javascript" charset="utf-8"></script>
    <link href='https://fonts.googleapis.com/css?family=Stint+Ultra+Condensed' rel='stylesheet' type='text/css'>
   
  
<script type="text/javascript" src="js/main.js"></script>
<!-- <script src="MAIN.js"></script> -->
</head>
<body>
  <nav style="background-color:#D22A21" role="navigation">
    <div class="nav-wrapper container">
      <a class="white-text" id="logo-container" href="index.html" class="brand-logo">Wee Expectations</a>
      
     
      <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
    </div>
  </nav>

  <div id="index-banner" class="parallax-container">
    <div class="section no-pad-bot">
      <div class="container">
        <br><br>
        <h1 class="header center black-text text-lighten-2">Wee Expectations</h1>
   

        <br><br>

      </div>
    </div>
  </div>


  <div  class="container">
    <div  id = "dashboard" class="section">

      <!--   Icon Section   -->
      <div class="row">
         <div ng-controller='dashboardController'>
            <h2 class="center">Login</h2>

      </div>

        <!-- FACEBOOK LOGIN -->
          <div id="fb-root"></div>
            <script>
              window.fbAsyncInit = function() {
                FB.init({
                  appId      : '200121150436225',
                  xfbml      : true,
                  version    : 'v2.6'
                });
              };

               (function(d, s, id){
                 var js, fjs = d.getElementsByTagName(s)[0];
                 if (d.getElementById(id)) {return;}
                 js = d.createElement(s); js.id = id;
                 js.src = "//connect.facebook.net/en_US/sdk.js";
                 fjs.parentNode.insertBefore(js, fjs);
               }(document, 'script', 'facebook-jssdk'));


            // (function(d, s, id) {
            //   console.log("fb test");
            //   var js, fjs = d.getElementsByTagName(s)[0];
            //   if (d.getElementById(id)) return;
            //   js = d.createElement(s); js.id = id;
            //   js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8&appId=200121150436225";
            //   fjs.parentNode.insertBefore(js, fjs);
            // }(document, 'script', 'facebook-jssdk'));


            // retrieve user data
            function basicAPIRequest() {
              FB.api('/me', 
                  {fields: "id,about,age_range,picture,bio,birthday,context,email,first_name,gender,hometown,link,location,middle_name,name,timezone,website,work"}, 
                  function(response) {
                    console.log('API response', response);
                    $("#fb-profile-picture").append('<img src="' + response.picture.data.url + '"> ');
                    $("#name").append(response.name);
                    $("#user-id").append(response.id);
                    $("#work").append(response.gender);
                    $("#birthday").append(response.birthday);
                    $("#education").append(response.hometown);
                  }
              );
            }
            jQuery(document).ready(function(){
              jQuery("#load").click(function(e){
                if(typeof(FB) == "undefined") {
                    alert("Facebook SDK not yet loaded please wait.")
                  }
                FB.getLoginStatus(function(response) {
                  if (response.status === 'connected') {
                    console.log('Logged in.');
                    basicAPIRequest();

                  }
                  else {
                    FB.login();
                  }
                });      
              });

            });
        </script>
<!-- fb-profile-picture: --> <div id="fb-profile-picture"></div>
<!-- name: --> <div id="name"></div>
<!-- user-id: --> <div id="user-id"></div>
<!-- work: --> <div id="work"></div>
<!-- birthday:  --><div id="birthday"></div>
<!-- education: --> <div id="education"></div>

<p>1) Click login</p>
<div class="fb-login-button" data-scope="email,user_birthday,user_hometown,user_location,user_website,user_work_history,user_about_me
" data-max-rows="1" data-size="medium" data-show-faces="false" data-auto-logout-link="false"></div>
<p>2) Click load data</p>
<button id='load'>Load data</button>

        <div>
          <div class="fb-login-button" data-max-rows="1" data-size="medium" data-show-faces="false" data-auto-logout-link="false"></div>
      <!-- END OF FACEBOOK LOGIN -->

      <p><a class="black-text" href="dashboard.html">Login</a></p>
    </div>

  <!--  Scripts-->

  </body>
</html>
